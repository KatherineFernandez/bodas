<html>

<head>
  <title>Problema</title>
</head>

<body>
  

  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-firestore.js"></script>
  <script>
    // Initialize Firebase
    // TODO: Replace with your project's customized code snippet
    var config = {
      apiKey: "AIzaSyDTua7F3t3NBJSQcUm_nVAYT2ViT2hFCmE",
      authDomain: "bdbodas-6abf1.firebaseapp.com",
      databaseURL: "https://bdbodas-6abf1.firebaseio.com",
      projectId: "bdbodas-6abf1",
      storageBucket: "bdbodas-6abf1.appspot.com",
      messagingSenderId: "357037616157",
    };
    firebase.initializeApp(config);

    var db = firebase.firestore();

    firebase.auth().onAuthStateChanged(function (user) {
      if (user) {
        // User is signed in.
        var displayName = user.displayName;
        var email = user.email;
        var emailVerified = user.emailVerified;
        var photoURL = user.photoURL;
        var isAnonymous = user.isAnonymous;
        var uid = user.uid;
        var providerData = user.providerData;
        console.log(email);
        // ...
      } else {
        // User is signed out.
        // ...
      }
    });
  </script>

  <h1>REGISTRO DE LOS CLIENTES</h1>
  <form method="post">

    nombre evento:
    <input type="text" id="nombreEvento"><br>
    fecha:
    <input type="date" id="fecha"><br>
    Correo 1:
    <input type="text" id="correo1"><br>
    Correo 2:
    <input type="text" id="correo2"><br>
    password:
    <input type="password" id="pass"><br>
    <br>
    <input type="button" value="Registrar" onclick="signup()">
  </form>
  <article class="full-reset" id="ubicacion-ins">
      <div class="form-style-5">
           <form>
              <fieldset>
              <legend><span class="number">1</span> Registrar CLIENTES</legend>
              <input type="text" id="nombreEvento" name="field1" placeholder="Nombre del evento *">
              <input type="date" id="fecha"name="field2">
              <input type="text" id="correo1" name="field1" placeholder="Correo de la novia *">
              <input type="text" id="correo2" name="field2" placeholder="Correo del novio *">
              <input type="password" id="pass" name="field2" placeholder="ContraseÃ±a *">
              <br>
              <br>
              <br>
              <input type="button" value="Registrar" onclick="signup()">    
              </fieldset>
           </form>
       </div>
              <style type="text/css">
                  .form-style-5{
                      max-width: 500px;
                      padding: 10px 20px;
                      background: #f4f7f8;
                      margin: 10px auto;
                      padding: 20px;
                      background: #f4f7f8;
                      border-radius: 8px;
                      font-family: Georgia, "Times New Roman", Times, serif;
                  }
                  .form-style-5 fieldset{
                      border: none;
                  }
                  .form-style-5 legend {
                      font-size: 1.4em;
                      margin-bottom: 10px;
                  }
                  .form-style-5 label {
                      display: block;
                      margin-bottom: 8px;
                  }
                  .form-style-5 input[type="text"],
                  .form-style-5 input[type="date"],
                  .form-style-5 input[type="datetime"],
                  .form-style-5 input[type="email"],
                  .form-style-5 input[type="number"],
                  .form-style-5 input[type="search"],
                  .form-style-5 input[type="time"],
                  .form-style-5 input[type="url"],
                  .form-style-5 textarea,
                  .form-style-5 select {
                      font-family: Georgia, "Times New Roman", Times, serif;
                      background: rgba(255,255,255,.1);
                      border: none;
                      border-radius: 4px;
                      font-size: 15px;
                      margin: 0;
                      outline: 0;
                      padding: 10px;
                      width: 100%;
                      box-sizing: border-box; 
                      -webkit-box-sizing: border-box;
                      -moz-box-sizing: border-box; 
                      background-color: #e8eeef;
                      color:#8a97a0;
                      -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;
                      box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;
                      margin-bottom: 30px;
                  }
                  .form-style-5 input[type="text"]:focus,
                  .form-style-5 input[type="date"]:focus,
                  .form-style-5 input[type="datetime"]:focus,
                  .form-style-5 input[type="email"]:focus,
                  .form-style-5 input[type="number"]:focus,
                  .form-style-5 input[type="search"]:focus,
                  .form-style-5 input[type="time"]:focus,
                  .form-style-5 input[type="url"]:focus,
                  .form-style-5 textarea:focus,
                  .form-style-5 select:focus{
                      background: #d2d9dd;
                  }
                  .form-style-5 select{
                      -webkit-appearance: menulist-button;
                      height:35px;
                  }
                  .form-style-5 .number {
                      background: #1abc9c;
                      color: #fff;
                      height: 30px;
                      width: 30px;
                      display: inline-block;
                      font-size: 0.8em;
                      margin-right: 4px;
                      line-height: 30px;
                      text-align: center;
                      text-shadow: 0 1px 0 rgba(255,255,255,0.2);
                      border-radius: 15px 15px 15px 0px;
                  }
                  
                  .form-style-5 input[type="submit"],
                  .form-style-5 input[type="button"]
                  {
                      position: relative;
                      display: block;
                      padding: 19px 39px 18px 39px;
                      color: #FFF;
                      margin: 0 auto;
                      background: #1abc9c;
                      font-size: 18px;
                      text-align: center;
                      font-style: normal;
                      width: 100%;
                      border: 1px solid #16a085;
                      border-width: 1px 1px 3px;
                      margin-bottom: 10px;
                  }
                  .form-style-5 input[type="submit"]:hover,
                  .form-style-5 input[type="button"]:hover
                  {
                      background: #109177;
                  }
                  </style>
</article>
  <script type="text/javascript">
    function signup() {
      var nombreEvento = document.getElementById("nombreEvento").value;
      var fecha = document.getElementById("fecha").value;
      var correo1 = document.getElementById("correo1").value;
      var correo2 = document.getElementById("correo2").value;
      var pass = document.getElementById("pass").value;


      firebase.auth().createUserWithEmailAndPassword(correo1, pass).catch(function (error) {
        // Handle Errors here.
        var errorCode = error.code;
        var errorMessage = error.message;
        // ...
      }).then(function(res1) {
        firebase.auth().createUserWithEmailAndPassword(correo2, pass).catch(function (error) {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          // ...
        }).then(function (res2) {
          db.collection("evento").add({
            nombreEvento: nombreEvento,
            fecha: fecha,
            correo1: correo1,
            correo2: correo2
          })
            .then(function (docRef) {
              console.log("Document written with ID: ", docRef.id);
            })
            .catch(function (error) {
              console.error("Error adding document: ", error);
            });
        });
      });
    }
  </script>
</body>

</html>